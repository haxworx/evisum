#define EVISUM_ICON(icon_code, minw, minh, maxw, maxh, a) \
images { \
   image: icon_code".png" COMP; \
} \
group { \
   name: "evisum/icons/"icon_code; \
   min: minw minh; \
   max: maxw maxh; \
   parts { \
      part { \
         name: "icon"; \
         description { \
            state: "default" 0.0; \
            aspect: a a; \
            aspect_preference: BOTH; \
            image { \
               normal: icon_code".png"; \
            } \
            fill { \
               smooth: 1; \
            } \
         } \
      } \
   } \
}

collections {
    group
    {
        name: "evisum";
        parts
        {
            part
            {
                name: "evisum/menu-clip";
                type: RECT;
                description
                {
                   state: "default" 0.0;
                   visible: 0;
                   color: 255 255 255 0;
                }
                description
                {
                   state: "visible" 0.0;
                   visible: 1;
                   color: 255 255 255 255;
                }
            }
            part
            {
                name: "evisum/menu";
                type: SWALLOW;
                description
                {
                    clip_to: "evisum/menu-clip";
                    state: "default" 0.0;
                    visible: 1;
                }
                description
                {
                    clip_to: "evisum/menu-clip";
                    state: "visible" 0.0;
                    visible: 1;
                }
            }
            part
            {
                name: "evisum/indicator-clip";
                type: RECT;
                description
                {
                   state: "default" 0.0;
                   min: 128 128;
                   max: 128 128;
                   visible: 0;
                   color: 255 255 255 0;
                }
                description
                {
                   inherit: "default";
                   state: "visible" 0.0;
                   visible: 1;
                   color: 255 255 255 255;
                }
            }
            part
            {
                name: "evisum/indicator";
                type: SWALLOW;
                description
                {
                    aspect: 1.0 1.0; aspect_preference: BOTH;
                    clip_to: "evisum/indicator-clip";
                    state: "default" 0.0;
                    visible: 1;
                }
                description
                {
                    clip_to: "evisum/indicator-clip";
                    state: "visible" 0.0;
                    visible: 1;
                }
            }
        }
        programs
        {
            program
            {
                signal: "menu,show";
                source: "evisum/menu";
                action: STATE_SET "visible" 0.0;
                transition: SINUSOIDAL 0.5;
                target: "evisum/menu-clip";
            }
            program
            {
                signal: "menu,hide";
                source: "evisum/menu";
                action: STATE_SET "default" 0.0;
                transition: SINUSOIDAL 0.5;
                target: "evisum/menu-clip";
            }
            program
            {
                signal: "indicator,show";
                source: "evisum/indicator";
                action: STATE_SET "visible" 0.0;
                target: "evisum/indicator-clip";
                after: "indicator_hide";
            }
            program
            {
                name: "indicator_hide";
                signal: "indicator,hide";
                source: "evisum/indicator";
                action: STATE_SET "default" 0.0;
                transition: SINUSOIDAL 2.0;
                target: "evisum/indicator-clip";
            }
        }
    }
}
